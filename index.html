<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë„ì¿„ ê°€ì¡±ì—¬í–‰ 2026</title>
    <script type="module">
        // Firebase ëª¨ë“ˆ ì„í¬íŠ¸
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
        import { getFirestore, doc, onSnapshot, setDoc } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-storage.js";

        // ğŸ”¥ [í•„ìˆ˜] ì—¬ê¸°ì— ë³¸ì¸ì˜ Firebase ì„¤ì •ê°’ì„ ë³µì‚¬í•´ì„œ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”! ğŸ”¥
        const firebaseConfig = {
            apiKey: "ë³¸ì¸ì˜_API_KEY_ì…ë ¥",
            authDomain: "í”„ë¡œì íŠ¸ID.firebaseapp.com",
            projectId: "í”„ë¡œì íŠ¸ID_ì…ë ¥",
            storageBucket: "í”„ë¡œì íŠ¸ID.appspot.com",
            messagingSenderId: "ë°œì‹ ìID_ì…ë ¥",
            appId: "ì•±ID_ì…ë ¥"
        };

        // Firebase ì•± ì´ˆê¸°í™”
        let app, db, storage;
        try {
            app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            storage = getStorage(app);
        } catch (e) {
            console.error("Firebase ì´ˆê¸°í™” ì‹¤íŒ¨. ì„¤ì •ê°’ì„ í™•ì¸í•˜ì„¸ìš”.", e);
            alert("âš ï¸ ì¤‘ìš”: index.html íŒŒì¼ì„ ì—´ì–´ Firebase ì„¤ì •ê°’(firebaseConfig)ì„ ì…ë ¥í•´ì•¼ ì•±ì´ ì •ìƒ ì‘ë™í•©ë‹ˆë‹¤!");
        }

        // ì‹¤ì‹œê°„ ë©”ëª¨ ì €ì¥
        window.saveMemo = async (day) => {
            if (!db) return;
            const text = document.getElementById(`memo-${day}`).value;
            await setDoc(doc(db, "travel", day), { memo: text }, { merge: true });
        };

        // ì‚¬ì§„ ì—…ë¡œë“œ ê¸°ëŠ¥
        window.uploadPhoto = async (day, file) => {
            if (!file || !storage) return;
            const storageRef = ref(storage, `photos/${day}_${Date.now()}`);
            try {
                await uploadBytes(storageRef, file);
