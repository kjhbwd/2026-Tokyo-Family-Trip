<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ë„ì¿„ ê°€ì¡±ì—¬í–‰ 2026</title>
    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-app.js";
        import { getFirestore, doc, onSnapshot, setDoc } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-firestore.js";
        import { getStorage, ref, uploadBytes, getDownloadURL } from "https://www.gstatic.com/firebasejs/11.1.0/firebase-storage.js";

        // ğŸ”¥ [ì£¼ì˜] ì´ ë¶€ë¶„ì— ë³¸ì¸ì˜ Firebase í‚¤ë¥¼ ë„£ì–´ì•¼ ì‹¤ì‹œê°„ ê³µìœ ê°€ ë©ë‹ˆë‹¤! 
        // í‚¤ê°€ ì—†ì–´ë„ í™”ë©´ì´ ëœ¨ë„ë¡ ì˜ˆì™¸ì²˜ë¦¬ë¥¼ í•´ë‘ì—ˆìŠµë‹ˆë‹¤.
        const firebaseConfig = {
            apiKey: "ë³¸ì¸ì˜_í‚¤_ì…ë ¥",
            authDomain: "ë³¸ì¸ì˜_ë„ë©”ì¸_ì…ë ¥",
            projectId: "ë³¸ì¸ì˜_ID_ì…ë ¥",
            storageBucket: "ë³¸ì¸ì˜_ë²„í‚·_ì…ë ¥",
            appId: "ë³¸ì¸ì˜_APPID_ì…ë ¥"
        };

        let db, storage;
        try {
            const app = initializeApp(firebaseConfig);
            db = getFirestore(app);
            storage = getStorage(app);
            console.log("Firebase ì—°ê²° ì„±ê³µ!");
        } catch (e) {
            console.warn("Firebase í‚¤ê°€ ì—†ì–´ ë¡œì»¬ ëª¨ë“œë¡œ ì‘ë™í•©ë‹ˆë‹¤.");
        }

        // ë©”ëª¨ ì €ì¥ í•¨ìˆ˜
        window.saveMemo = async (day) => {
            const val = document.getElementById(`memo-${day}`).value;
            localStorage.setItem(day, val); // ì¼ë‹¨ í°ì— ì €ì¥
            if(db) await setDoc(doc(db, "travel", day), { memo: val }, { merge: true });
        };

        // ì‚¬ì§„ ì—…ë¡œë“œ í•¨ìˆ˜
        window.uploadPhoto = async (day, file) => {
            if (!file || !storage) { alert("Firebase ì„¤ì •ì´ í•„ìš”í•©ë‹ˆë‹¤."); return; }
            const sRef = ref(storage, `photos/${day}_${Date.now()}`);
            await uploadBytes(sRef, file);
            const url = await getDownloadURL(sRef);
            await setDoc(doc(db, "travel", day), { imageUrl: url }, { merge: true });
        };

        // ì‹¤ì‹œê°„ ë™ê¸°í™” ì„¤ì •
        const days = ['day1', 'day2', 'day3', 'day4', 'day5'];
        days.forEach(day => {
            // ë¡œì»¬ì— ì €ì¥ëœê²Œ ìˆë‹¤ë©´ ë¨¼ì € ë³´ì—¬ì£¼ê¸°
            const local = localStorage.getItem(day);
            if(local) document.getElementById(`memo-${day}`).value = local;

            if(db) {
                onSnapshot(doc(db, "travel", day), (doc) => {
                    if (doc.exists()) {
                        const data = doc.data();
                        document.getElementById(`memo-${day}`).value = data.memo || "";
                        if (data.imageUrl) {
                            const img = document.getElementById(`img-${day}`);
                            img.src = data.imageUrl; img.style.display = 'block';
                        }
                    }
                });
            }
        });
    </script>
    <style>
        :root { --main: #ff4757; --bg: #f8f9fa; }
        body { font-family: -apple-system, sans-serif; background: var(--bg); margin: 0; padding-bottom: 100px; color: #333; line-height: 1.6; }
        .header { background: var(--main); color: white; padding: 20px; text-align: center; position: sticky; top: 0; z-index: 10; }
        .card { background: white; margin: 15px; padding: 20px; border-radius: 15px; box-shadow: 0 2px 10px rgba(0,0,0,0.05); }
        h2 { font-size: 1.25rem; color: var(--main); margin-top: 0; border-bottom: 2px solid #eee; padding-bottom: 10px; }
        h3 { font-size: 1rem; color: #555; margin: 15px 0 5px; }
        .info { font-size: 0.9rem; margin: 5px 0; }
        .route-step { display: block; padding-left: 15px; border-left: 2px solid #ddd; margin: 10px 0; font-size: 0.85rem; }
        .warning { color: #e74c3c; font-weight: bold; }
        textarea { width: 100%; height: 80px; border: 1px solid #ddd; border-radius: 10px; padding: 10px; margin-top: 15px; box-sizing: border-box; }
        .btn-up { background: #2ed573; color: white; border: none; padding: 12px; width: 100%; border-radius: 10px; font-weight: bold; margin-top: 10px; }
        img { width: 100%; border-radius: 10px; margin-top: 15px; display: none; }
        .nav { position: fixed; bottom: 0; width: 100%; background: white; display: flex; border-top: 1px solid #eee; height: 70px; }
        .nav-item { flex: 1; text-align: center; font-size: 0.75rem; padding: 12px 0; color: #999; }
        .nav-item.active { color: var(--main); font-weight: bold; }
        .day-content { display: none; }
        .day-content.active { display: block; }
    </style>
</head>
<body>

<div class="header"><h1>ë„ì¿„ ê°€ì¡±ì—¬í–‰ 2026</h1></div>

<div id="day1" class="day-content active">
    <div class="card">
        <h2>DAY 1: ê³µí•­ ì…ì„± & ë„ì¿„íƒ€ì›Œ</h2>
        <div class="info">ğŸ“… 1ì›” 16ì¼ (ëª©)</div>
        
        <h3>âœˆï¸ ë‚˜ë¦¬íƒ€ ê³µí•­(T2) ë„ì°© (15:00)</h3>
        <div class="route-step">
            â€¢ <b>ìŠ¤ì´ì¹´ ë°œê¸‰:</b> B1F JR EAST ì„¼í„° ë˜ëŠ” ìíŒê¸° (2,000ì—”: ë³´ì¦ê¸ˆ 500+ì¶©ì „ 1,500)<br>
            â€¢ <b>ì•„ì‚¬ì¿ ì‚¬ ì´ë™:</b> ì•¡ì„¸ìŠ¤ íŠ¹ê¸‰ 1Â·2ë²ˆ í”Œë«í¼ (1,370ì—”, ì•½ 60ë¶„)
        </div>

        <h3>ğŸ¨ ìˆ™ì†Œ: ì•„ì‚¬ì¿ ì‚¬ ë·° í˜¸í…”</h3>
        <div class="route-step">â€¢ ì•„ì‚¬ì¿ ì‚¬ì—­ A4 ì¶œêµ¬ â†’ ë„ë³´ 7~8ë¶„</div>

        <h3>ğŸ—¼ ë„ì¿„íƒ€ì›Œ ì´ë™ & ì €ë…ì‹ì‚¬</h3>
        <div class="route-step">
            â€¢ <b>ì´ë™:</b> ì•„ì‚¬ì¿ ì‚¬ì„ (ë¹¨ê°•) 1ë²ˆ í”Œë«í¼ â†’ ë‹¤ì´ëª¬ì—­ A6 ì¶œêµ¬<br>
            â€¢ <b>ë¼ë©˜ ì¹´ë‚˜ë‹¤ì•¼:</b> ë©”ì¸ì¶œêµ¬ 30m ì§ì§„ â†’ Tì êµì°¨ë¡œ ì¢ŒíšŒì „ â†’ 200m ì§ì§„<br>
            â€¢ <b>ë‚œìŠ¤ì¼€ ë°”ì´ìŠ¤(í–„ë²„ê·¸):</b> ì™¼ìª½ ê¸¸ë¡œ ë‚´ë ¤ê° â†’ ì§ì§„ â†’ 400m ì§ì§„ â†’ íŒ¨ë°€ë¦¬ë§ˆíŠ¸ ì˜† ê³¨ëª©
        </div>

        <textarea id="memo-day1" onblur="saveMemo('day1')" placeholder="ë©”ëª¨ë¥¼ ë‚¨ê¸°ì„¸ìš”..."></textarea>
        <img id="img-day1"><input type="file" id="f-day1" hidden onchange="uploadPhoto('day1', this.files[0])">
        <button class="btn-up" onclick="document.getElementById('f-day1').click()">ğŸ“· ì‚¬ì§„ ì˜¬ë¦¬ê¸°</button>
    </div>
</div>

<div id="day2" class="day-content">
    <div class="card">
        <h2>DAY 2: ì•„ì¹´ì‚¬ì¹´ & ì‹œë¶€ì•¼</h2>
        <div class="info">ğŸ“… 1ì›” 17ì¼ (ê¸ˆ) [ê¸°ì¡´ 3ì¼ì°¨ì™€ êµì²´]</div>
        
        <h3>â›©ï¸ íˆì—ì‹ ì‚¬ (10:00)</h3>
        <div class="route-step">ì•„ì¹´ì‚¬ì¹´ë¯¸ì¸ ì¼€ì—­ 11ë²ˆ ì¶œêµ¬ â†’ ë„ë³´ 7ë¶„ (ë¶‰ì€ í† ë¦¬ì´ í¬í† ì¡´)</div>

        <h3>ğŸ­ ì•„ì¹´ì‚¬ì¹´ ACT ì”¨ì–´í„°</h3>
        <div class="route-step">11:45 ì…ì¥ / 12:15 ê³µì—° ì‹œì‘ (ì•½ 3ì‹œê°„ 30ë¶„ ê³µì—°)</div>

        <h3>ğŸ™ï¸ ì‹œë¶€ì•¼ (17:00~)</h3>
        <div class="route-step">
            â€¢ <b>ì‹œë¶€ì•¼ ìŠ¤ì¹´ì´:</b> ì˜ˆì•½ ì‹œê°„(17:00) ì¤€ìˆ˜ í•„ìˆ˜!<br>
            â€¢ <b>ì €ë…:</b> ì´ì¹˜ë€ ë¼ë©˜, ìŠ¤í‚¤ì•¼, ìš°ë™ ì‹ <br>
            â€¢ <b>ì‡¼í•‘:</b> ìŠ¤í¬ë¨ë¸” êµì°¨ë¡œ, ëˆí‚¤í˜¸í…Œ, ì‹œë¶€ì•¼109, ê°€ì± ìƒµ
        </div>

        <textarea id="memo-day2" onblur="saveMemo('day2')"></textarea>
        <img id="img-day2"><input type="file" id="f-day2" hidden onchange="uploadPhoto('day2', this.files[0])">
        <button class="btn-up" onclick="document.getElementById('f-day2').click()">ğŸ“· ì‚¬ì§„ ì˜¬ë¦¬ê¸°</button>
    </div>
</div>

<div id="day3" class="day-content">
    <div class="card">
        <h2>DAY 3: í•´ë¦¬í¬í„° & ìŠ¤ì¹´ì´íŠ¸ë¦¬</h2>
        <div class="info">ğŸ“… 1ì›” 18ì¼ (í† ) [ê¸°ì¡´ 2ì¼ì°¨ì™€ êµì²´]</div>
        
        <h3>ğŸ¥£ ì•„ì¹¨: ìš”ì‹œë…¸ì•¼ (08:00)</h3>
        <div class="route-step">í˜¸í…” ë„ë³´ 4ë¶„ (ê·œë™/ë¯¸ì†Œì‹œë£¨ ì„¸íŠ¸ 500~650ì—”)</div>

        <h3>âš¡ í•´ë¦¬í¬í„° ìŠ¤íŠœë””ì˜¤ (10:30)</h3>
        <div class="route-step">
            â€¢ <b>ì´ë™:</b> ì•„ì‚¬ì¿ ì‚¬ â†’ ì˜¤ì‹œì•„ê²Œ â†’ ì‹œë¶€ì•¼ â†’ ì´ì¼€ë¶€ì¿ ë¡œ â†’ ë„ì‹œë§ˆì—”<br>
            â€¢ <b>ê´€ëŒ:</b> ìµœì†Œ 3ì‹œê°„ ì†Œìš”, ì‚¬ì§„ í¬ì¸íŠ¸ ë§ìŒ
        </div>

        <h3>ğŸ—¼ ìŠ¤ì¹´ì´íŠ¸ë¦¬ (15:00~)</h3>
        <div class="route-step">ì „ë§ëŒ€ & ì†Œë¼ë§ˆì¹˜ ì‡¼í•‘ëª° (ì‹ë‹¹ê°€ ì´ìš© í¸ë¦¬)</div>

        <textarea id="memo-day3" onblur="saveMemo('day3')"></textarea>
        <img id="img-day3"><input type="file" id="f-day3" hidden onchange="uploadPhoto('day3', this.files[0])">
        <button class="btn-up" onclick="document.getElementById('f-day3').click()">ğŸ“· ì‚¬ì§„ ì˜¬ë¦¬ê¸°</button>
    </div>
</div>

<div id="day4" class="day-content">
    <div class="card">
        <h2>DAY 4: ë„ì¿„ ë””ì¦ˆë‹ˆì”¨</h2>
        <div class="info">ğŸ“… 1ì›” 19ì¼ (ì¼)</div>
        
        <h3>ğŸš ê°€ëŠ” ë²• (ì´ˆì •ë°€ ì•ˆë‚´)</h3>
        <div class="route-step">
            1. ì•„ì‚¬ì¿ ì‚¬ì—­(ë¶„í™ìƒ‰) â†’ ì‹ ë°”ì‹œì—­ (15ë¶„)<br>
            2. ì‹ ë°”ì‹œ â†’ JR ê²Œì´ìš”ì„  í™˜ìŠ¹ (ë„ë³´ 5~6ë¶„)<br>
            3. ë§ˆì´í•˜ë§ˆì—­ í•˜ì°¨ â†’ ë²„ìŠ¤ íƒ‘ìŠ¹(260ì—”, 7ë¶„)
        </div>

        <h3>ğŸ½ï¸ ì¶”ì²œ ì‹ë‹¹ & ë†€ì´ê¸°êµ¬</h3>
        <div class="route-step">
            â€¢ <b>ì‹ë‹¹:</b> ì„¸ì¼ë§ë°ì´ ë·”í˜, ì¹´ìŠ¤í”¼ì•ˆ ìŠ¤ë‚µ, ë¦¬ìŠ¤í† ë€í…Œ ë”” ì¹´ë‚˜ë ›í† <br>
            â€¢ <b>ì¸ê¸° ë¼ì´ë“œ:</b> ì €ë‹ˆ íˆ¬ ë” ì„¼í„° ì˜¤ë¸Œ ë” ì–´ìŠ¤, íƒ€ì›Œ ì˜¤ë¸Œ í…ŒëŸ¬, ì¸ë””ì•„ë‚˜ ì¡´ìŠ¤
        </div>

        <textarea id="memo-day4"
